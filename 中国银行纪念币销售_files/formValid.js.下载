/*! BUILD: 2021-09-01 */
var regional=regional||{paramaterError:"参数错误!"},Validater=function(){var a=new Object;a.reg8={regExp:/^[0-9A-Za-z]*$/},a.reg23={regExp:/^[a-zA-Z0-9\u2E80-\u9FFF,\.\-\/\(\)]*$/},a.reg55={regExp:/^[1-9]\d{5}[1-9]\d{3}((0[1-9])|(1[0-2]))(([0-2]\d)|3[0-1])\d{3}[0-9Xx]{1}$/},a.reg57={regExp:/^[0-9]*$/},a.reg58={regExp:/^[\u2E80-\u9FFF][a-zA-Z0-9\u2E80-\u9FFF]*$/},a.reg48={regExp:/^\d{4}[\/]([0][1-9]|(1[0-2]))[\/](0[1-9]|([012]\d)|(3[01]))$/},this.regGroup=a};Validater.prototype={execute:function(a){var b,c=this,d=!0;if(a.attr("disabled")||a.hasClass("disabled"))return d;if(a.attr("validateGroup")){var e=(a.val()||a.attr("val")||"").toString();if(b=new Function("return ("+a.attr("validateGroup")+")")(),a.attr("trim")||(e=$.trim(e)),""==e&&!b.required)return!0;if("num"==a.attr("lan")){if(e=e.replace(/\,/g,""),!/^[0-9]{1,15}(\.\d{1,6}){0,1}$/.test(e))return!1;""==e||$.browser.msie&&a.attr("phLan")||(e=e.formatNum(a.attr("currCode")),a.val(e),e=e.replace(/\,/g,""))}if("date"==a.attr("lan")&&!/^\d{4}[\/]([0]{0,1}[1-9]|(1[0-2]))[\/]([1-9]|([012]\d)|(3[01]))$/.test(e))return!1;for(var f in b){var g="currency"==f&&"|J|027|K|064|088|".indexOf("|"+a.attr("currCode")+"|")>-1;if(g&&a.attr("tips","tipsrequired tipsmax l7241"),d=c.check("",e,f,b[f],g),!d)break}}return d},check:function(a,b,c,d,e){if(c){var f=!0;switch(c){case"required":d&&(f=b.length>0);break;case"maxLength":f=this.strlen(b)<=d;break;case"minLength":f=this.strlen(b)>=d;break;case"endDate":f=checkDateTime($.trim($("#"+d).val()),b);break;case"passMatch":f=b==$("#"+d).val(),f&&$("#"+d).removeClass("warning").addClass("passed").attr("pass","true");break;default:b.length&&(f=this.regGroup[c].regExp.test(b),e&&(b.indexOf(".")>-1||0==parseInt(b))&&(f=!1))}return f}},strlen:function(a){for(var b=0,c=0;c<a.length;c++)b+=a.charAt(c).match(/[\u0391-\uFFE5]/)?2:1;return b}};var FormValid=function(){this.valid=null,this.tooltip=null,this.init()};FormValid.prototype={init:function(){var a=this;a.TIMER,a.valid=new Validater,a.tooltip=new Tooltip,a.selector="input[validateGroup]:visible,textarea[validateGroup]:visible,div.sel[validateGroup]:visible"},bindEvent:function(a){var b=this;a.on("mouseover.valid",function(a){$(this).hasClass("warning")&&(b.TIMER&&clearTimeout(b.TIMER),b.tooltip.show(a))}).on("mouseout.valid",function(){b.TIMER&&clearTimeout(b.TIMER),b.TIMER=setTimeout(function(){b.tooltip.hide()},3e3)}).on("focus.valid",function(){$(this).removeClass("warning").removeClass("passed")}).on("blur.valid",function(a){$(this).is("div.SecEditCtrl")||(a=a||event,b.changeStatus($(this),a))}),$.browser.msie&&a.find("object").each(function(){var a=this;this.attachEvent("onfocus",function(){$(a).closest("div.SecEditCtrl").removeClass("warning").removeClass("passed")}),this.attachEvent("onblur",function(){b.changeStatus($(a).closest("div.SecEditCtrl"),window.event)})})},changeStatus:function(a,b,c){var d,e=this;return d=a.hasClass("SecEditCtrl")?a.sec("PasswordLengthIntensity")&&a.sec("PasswordComplexIntensity"):e.valid.execute(a),d?(c||e.tooltip.hide(),a.attr("pass","true").removeClass("warning").addClass("passed")):(c||(e.tooltip.show(b),e.TIMER&&clearTimeout(e.TIMER),e.TIMER=setTimeout(function(){e.tooltip.hide()},3e3)),a.attr("pass","false").removeClass("passed").addClass("warning")),d},checkAll:function(a){var b=!0,c=this,d=$(a).find(c.selector);return c.bindEvent(d),d.each(function(a,d){return d=$(d),$.browser.msie&&d.attr("placeHolder")&&d.val()==d.attr("placeHolder")&&d.val(""),d.attr("disabled")?!0:void(b=c.changeStatus(d,{srcElement:d},!b)&&b)}),c.TIMER&&clearTimeout(c.TIMER),c.TIMER=setTimeout(function(){c.tooltip.hide()},3e3),b&&$(a).find("input[lan=num]").each(function(a,b){$(b).val(b.value.replace(/\,/g,""))}),b},addBlurcheck:function(a,b){var c=this;return c.TIMER&&clearTimeout(c.TIMER),c.bindEvent(a),c.changeStatus(a,b)},dispose:function(){delete this.valid,this.tooltip.dispose(),delete t.tooltip,delete this.targets}},$(function(){formValid=new FormValid});