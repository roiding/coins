!function(){"use strict";var e={},t=!1,n=null,r=!1,u=new Array,a={interval:30,totaltime:5e3};e.setOptions=function(e){for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t])},e.insertJsonMove=function(e){if(r){var t=u.length,n=(new Date).getTime();if(e=e||window.event,!(0<t&&("mousemove"==e.type||"touchmove"==e.type)&&n-u[t-1].timeStamp<a.interval&&30<t)){var o=0,s=0;if(e.touches&&0<e.touches.length)o=e.touches[0].clientX,s=e.touches[0].clientY;else{if(!e.clientX||!e.clientY)return;o=e.clientX,s=e.clientY}var i={};i.x=parseInt(o),i.y=parseInt(s),i.type=e.type,i.timeStamp=n,u.push(i)}}},e.startTimer=function(){if(!t){t=!0;var e=this;n=setTimeout(function(){t=!1,u.length<40?e.startTimer():r=!1},a.totaltime)}},e.clearTimer=function(){clearTimeout(n),t=!1},e.mousemoveResponse=function(e){t||this.startTimer(),this.insertJsonMove(e)},e.mousedownResponse=function(e){this.insertJsonMove(e)},e.mouseupResponse=function(e){this.insertJsonMove(e)},e.mouseTrackInfo=function(){return r=!1,u},e.clearTrackInfo=function(){u=[],r=!0,this.clearTimer()},e.initMouseTrack=function(e){var t=document.getElementById(e);if(r=!0,t){var n=this;t.addEventListener?(t.addEventListener("mousemove",o),t.addEventListener("mousedown",s),t.addEventListener("mouseup",i),t.addEventListener("touchmove",o),t.addEventListener("touchstart",s),t.addEventListener("touchend",i)):t.attachEvent&&(t.attachEvent("onmousemove",o),t.attachEvent("onmousedown",s),t.attachEvent("onmouseup",i),t.attachEvent("ontouchmove",o),t.attachEvent("ontouchstart",s),t.attachEvent("ontouchend",i))}else console.error("参数不正确，没有找到需要捕捉鼠标信息的DIV区域");function o(e){n.mousemoveResponse(e)}function s(e){n.mousedownResponse(e)}function i(e){n.mouseupResponse(e)}},"object"==typeof exports?module.exports=e:"function"==typeof define&&define.amd?define([],function(){return e}):window&&(window.mouseTrack=e)}();